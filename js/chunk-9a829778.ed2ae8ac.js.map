{"version":3,"sources":["webpack:///./src/views/EventForm.vue?de16","webpack:///./src/models/EventFormModel.ts","webpack:///./src/views/EventForm.vue?a243","webpack:///./src/views/EventForm.vue","webpack:///./src/views/EventForm.vue?8ada","webpack:///./src/views/EventForm.vue?f6f7"],"names":["eventYear","eventName","eventStartDate","eventEndDate","registrationStartDate","registrationEndDate","longevityOpen","prayForOpen","ceremonyOpen","eventStatus","this","eventDate","hasMealNumber","hasBreakfast","hasLunch","hasDinner","render","_vm","_h","$createElement","_c","_self","staticClass","_v","empty","eventFormStatus","_m","on","$event","preventDefault","editEvent","_e","overTime","class","attrs","directives","name","rawName","value","eventInfo","expression","domProps","target","composing","$set","cancelEdit","saveEventEdit","staticRenderFns","staticStyle","extend","components","data","computed","$store","state","getEventInfo","mounted","init","methods","commit","eventTimestamp","Date","parse","currentTimestamp","now","type","resetEvent","$notify","title","EventApi","save","FormApi","list","then","memberList","listCeremonyAttendees","attendeesList","retrieve","console","log","resetForms","component"],"mappings":"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","file":"js/chunk-9a829778.ed2ae8ac.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventForm.vue?vue&type=style&index=0&id=1324048c&lang=scss&scoped=true&\"","// --------------- type model interface 抽象的名詞\n\n// eslint-disable-next-line max-classes-per-file\nexport interface EventInfoModel {\n  eventYear: string;\n  eventName: string;\n  eventStartDate: string;\n  eventEndDate: string;\n  registrationStartDate: string;\n  registrationEndDate: string;\n  longevityOpen: string;\n  prayForOpen: string;\n  ceremonyOpen: string;\n  eventStatus: boolean;\n}\n\nexport interface EventMealModel {\n  eventDate: string;\n  hasMealNumber: number;\n  hasBreakfast: number;\n  hasLunch: number;\n  hasDinner: number;\n}\n\n// --------------- class object 實體化的名詞 會動的\n\nexport class EventInfo implements EventInfoModel {\n  eventYear: string;\n\n  eventName: string;\n\n  eventStartDate: string;\n\n  eventEndDate: string;\n\n  registrationStartDate: string;\n\n  registrationEndDate: string;\n\n  longevityOpen: string;\n\n  prayForOpen: string;\n\n  ceremonyOpen: string;\n\n  eventStatus: boolean;\n\n  constructor(eventYear: string,\n    eventName: string,\n    eventStartDate: string,\n    eventEndDate: string,\n    registrationStartDate: string,\n    registrationEndDate: string,\n    longevityOpen: string,\n    prayForOpen: string,\n    ceremonyOpen: string,\n    eventStatus: boolean) {\n    this.eventYear = eventYear;\n    this.eventName = eventName;\n    this.eventStartDate = eventStartDate;\n    this.eventEndDate = eventEndDate;\n    this.registrationStartDate = registrationStartDate;\n    this.registrationEndDate = registrationEndDate;\n    this.longevityOpen = longevityOpen;\n    this.prayForOpen = prayForOpen;\n    this.ceremonyOpen = ceremonyOpen;\n    this.eventStatus = eventStatus;\n  }\n}\n\nexport class EventMeal implements EventMealModel {\n  eventDate: string;\n\n  hasMealNumber: number;\n\n  hasBreakfast: number;\n\n  hasLunch: number;\n\n  hasDinner: number;\n\n  constructor(\n    eventDate: string,\n    hasMealNumber: number,\n    hasBreakfast: number,\n    hasLunch: number,\n    hasDinner: number,\n  ) {\n    this.eventDate = eventDate;\n    this.hasMealNumber = hasMealNumber;\n    this.hasBreakfast = hasBreakfast;\n    this.hasLunch = hasLunch;\n    this.hasDinner = hasDinner;\n  }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"eventForm\"},[_c('div',{staticClass:\"container\"},[_c('h2',[_vm._v(\" 檢視 / 編輯活動 \")]),_c('div',{staticClass:\"eventType\"},[(_vm.empty === true && _vm.eventFormStatus === 'viewOnly')?_c('div',[_vm._m(0),_c('a',{staticClass:\"btn btn-primary btn-sm\",on:{\"click\":function($event){$event.preventDefault();return _vm.editEvent('empty')}}},[_vm._v(\" 創立新活動 \")])]):_vm._e(),(_vm.overTime === true && _vm.eventFormStatus === 'viewOnly')?_c('div',[_vm._m(1),_c('a',{staticClass:\"btn btn-primary btn-sm\",on:{\"click\":function($event){$event.preventDefault();return _vm.editEvent('overTime')}}},[_vm._v(\" 創立新活動 \")])]):_vm._e(),(_vm.empty === false && _vm.overTime === false && _vm.eventFormStatus === 'viewOnly')?_c('div',[_vm._m(2),_c('a',{staticClass:\"btn btn-primary btn-sm\",on:{\"click\":function($event){$event.preventDefault();return _vm.editEvent('normal')}}},[_vm._v(\" 編輯此活動 \")])]):_vm._e()]),_c('form',{class:{ 'view-only': _vm.eventFormStatus === 'viewOnly' }},[_c('div',{staticClass:\"q-group\"},[_c('div',{staticClass:\"input-group\"},[_c('label',{attrs:{\"for\":\"eventYear\"}},[_vm._v(\"年度\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.eventInfo.eventYear),expression:\"eventInfo.eventYear\"}],attrs:{\"id\":\"eventYear\",\"type\":\"text\",\"placeholder\":\"請填寫活動年度\",\"disabled\":_vm.eventFormStatus === 'viewOnly'},domProps:{\"value\":(_vm.eventInfo.eventYear)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.eventInfo, \"eventYear\", $event.target.value)}}})]),_c('div',{staticClass:\"input-group\"},[_c('label',{attrs:{\"for\":\"eventName\"}},[_vm._v(\"活動名稱\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.eventInfo.eventName),expression:\"eventInfo.eventName\"}],attrs:{\"id\":\"eventName\",\"type\":\"text\",\"placeholder\":\"請填寫活動名稱\",\"disabled\":_vm.eventFormStatus === 'viewOnly'},domProps:{\"value\":(_vm.eventInfo.eventName)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.eventInfo, \"eventName\", $event.target.value)}}})])]),_c('div',{staticClass:\"q-group\"},[_c('div',{staticClass:\"input-group\"},[_c('label',{attrs:{\"for\":\"eventStartDate\"}},[_vm._v(\"活動開始日期\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.eventInfo.eventStartDate),expression:\"eventInfo.eventStartDate\"}],attrs:{\"id\":\"eventStartDate\",\"type\":\"datetime-local\",\"placeholder\":\"請填寫活動報名開始日期\",\"disabled\":_vm.eventFormStatus === 'viewOnly'},domProps:{\"value\":(_vm.eventInfo.eventStartDate)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.eventInfo, \"eventStartDate\", $event.target.value)}}})]),_c('div',{staticClass:\"input-group\"},[_c('label',{attrs:{\"for\":\"eventEndDate\"}},[_vm._v(\"活動截止日期\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.eventInfo.eventEndDate),expression:\"eventInfo.eventEndDate\"}],attrs:{\"id\":\"eventEndDate\",\"type\":\"datetime-local\",\"placeholder\":\"請填寫活動報名截止日期\",\"disabled\":_vm.eventFormStatus === 'viewOnly'},domProps:{\"value\":(_vm.eventInfo.eventEndDate)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.eventInfo, \"eventEndDate\", $event.target.value)}}})])]),_c('div',{staticClass:\"q-group\"},[_c('div',{staticClass:\"input-group\"},[_c('label',{attrs:{\"for\":\"registrationStartDate\"}},[_vm._v(\"報名開始日期\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.eventInfo.registrationStartDate),expression:\"eventInfo.registrationStartDate\"}],attrs:{\"id\":\"registrationStartDate\",\"type\":\"datetime-local\",\"placeholder\":\"請填寫活動報名開始日期\",\"disabled\":_vm.eventFormStatus === 'viewOnly'},domProps:{\"value\":(_vm.eventInfo.registrationStartDate)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.eventInfo, \"registrationStartDate\", $event.target.value)}}})]),_c('div',{staticClass:\"input-group\"},[_c('label',{attrs:{\"for\":\"registrationEndDate\"}},[_vm._v(\"報名截止日期\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.eventInfo.registrationEndDate),expression:\"eventInfo.registrationEndDate\"}],attrs:{\"id\":\"registrationEndDate\",\"type\":\"datetime-local\",\"placeholder\":\"請填寫活動報名截止日期\",\"disabled\":_vm.eventFormStatus === 'viewOnly'},domProps:{\"value\":(_vm.eventInfo.registrationEndDate)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.eventInfo, \"registrationEndDate\", $event.target.value)}}})])])]),_c('div',{staticClass:\"group\"},[_c('div',[(_vm.eventFormStatus === 'edit')?_c('a',{staticClass:\"btn btn-dark mr-3\",on:{\"click\":function($event){$event.preventDefault();return _vm.cancelEdit($event)}}},[_vm._v(\" 取消 \")]):_vm._e(),(_vm.eventFormStatus === 'edit')?_c('a',{staticClass:\"btn btn-danger\",on:{\"click\":function($event){$event.preventDefault();return _vm.saveEventEdit($event)}}},[(_vm.overTime === true)?_c('span',[_vm._v(\"創立新活動\")]):_vm._e(),(_vm.overTime === false)?_c('span',[_vm._v(\"完成編輯\")]):_vm._e()]):_vm._e()])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\"活動狀態：\"),_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"尚未有任何活動\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\"活動狀態： \"),_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"已過期\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\"活動狀態：\"),_c('span',{staticStyle:{\"color\":\"green\"}},[_vm._v(\"進行中\")])])}]\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport EventApi from '@/apis/EventApi';\nimport FormApi from '@/apis/FormApi';\nimport { EventInfo } from '@/models/EventFormModel';\nimport Vue from 'vue';\n\nexport default Vue.extend({\n  components: {\n  },\n  data() {\n    return {\n      eventInfo: new EventInfo('', '', '', '', '', '', 'open', 'open', 'open', true),\n      empty: false,\n      overTime: false,\n    };\n  },\n  computed: {\n    eventFormStatus() {\n      return this.$store.state.eventFormStatus;\n    },\n    getEventInfo() {\n      return this.$store.state.eventInfo;\n    },\n  },\n  mounted() {\n    this.init();\n  },\n  methods: {\n    init() {\n      this.$store.commit('updateEventFormStatus', 'viewOnly');\n      if (this.getEventInfo.eventName === '') { // 看裡面是不是空的\n        this.empty = true;\n      } else {\n        this.eventInfo = this.getEventInfo;\n        const eventTimestamp = Date.parse(this.eventInfo.eventEndDate);\n        const currentTimestamp = Date.now();\n        if (eventTimestamp < currentTimestamp) {\n          this.overTime = true;\n        }\n      }\n      if (Date.parse(this.getEventInfo.eventEndDate) < Date.now()) {\n        this.overTime = true;\n      }\n    },\n    cancelEdit() {\n      this.$store.commit('updateEventFormStatus', 'viewOnly');\n      this.eventInfo = this.getEventInfo;\n    },\n    editEvent(type: string) {\n      this.$store.commit('updateEventFormStatus', 'edit');\n      if (type === 'normal') {\n        this.eventInfo = new EventInfo(\n          this.eventInfo.eventYear, this.eventInfo.eventName,\n          this.eventInfo.eventStartDate, this.eventInfo.eventEndDate,\n          this.eventInfo.registrationStartDate, this.eventInfo.registrationEndDate,\n          this.eventInfo.longevityOpen,\n          this.eventInfo.prayForOpen,\n          this.eventInfo.ceremonyOpen,\n          true,\n        );\n      }\n      if (type === 'empty') {\n        this.eventInfo = new EventInfo('', '', '', '', '', '', 'open', 'open', 'open', true);\n      }\n      if (type === 'overTime') {\n        this.eventInfo = new EventInfo('', '', '', '', '', '', 'open', 'open', 'open', true);\n      }\n    },\n    async saveEventEdit() {\n      if (this.eventInfo.eventName !== '') {\n        if (this.overTime === true) {\n          this.overTime = false;\n          this.resetEvent();\n          // console.log('清除去年資料，儲存為新的活動');\n          this.$notify({\n            type: 'success',\n            title: '清除去年資料，儲存為新的活動',\n          });\n        }\n        this.$store.commit('updateEventFormStatus', 'viewOnly');\n        await EventApi.save(this.eventInfo);\n        FormApi.list().then((memberList) => {\n          this.$store.commit('updateMemberList', memberList);\n        });\n        FormApi.listCeremonyAttendees().then((attendeesList) => {\n          this.$store.commit('updateAttendeesList', attendeesList);\n        });\n        EventApi.retrieve().then((eventInfo) => {\n          this.$store.commit('updateEventInfo', eventInfo);\n        });\n      } else {\n        console.log('空表單不可送出');\n      }\n    },\n    resetEvent() {\n      FormApi.resetForms();\n    },\n  },\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventForm.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventForm.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./EventForm.vue?vue&type=template&id=1324048c&scoped=true&\"\nimport script from \"./EventForm.vue?vue&type=script&lang=ts&\"\nexport * from \"./EventForm.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./EventForm.vue?vue&type=style&index=0&id=1324048c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1324048c\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}